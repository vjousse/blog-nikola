<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Main</title>
    </head>
    <body>
        <div id="elm"></div>
        <script src="elm.js"></script>
        <script>
        var node = document.getElementById('elm');
        var app = Elm.Main.embed(node);

        app.ports.setCurrentTime.subscribe(function(time) {
            var audio = document.getElementById('audio-player');
            console.log("Time: " + time, audio);

            audio.currentTime = time;
        });

        app.ports.setPlaybackRate.subscribe(function(rate) {
            var audio = document.getElementById('audio-player');
            console.log("Rate: " + rate, audio);

            audio.playbackRate = rate;
        });

        app.ports.play.subscribe(function() {
            var audio = document.getElementById('audio-player');
            console.log("Play: ", audio);

            audio.play();
        });

        app.ports.pause.subscribe(function() {
            var audio = document.getElementById('audio-player');
            console.log("Pause: ", audio);

            audio.pause();
        });
        </script>

    </body>
</html>
